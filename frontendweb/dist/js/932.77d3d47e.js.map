{"version":3,"file":"js/932.77d3d47e.js","mappings":"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","sources":["webpack://hopeui-vue/./src/views/tables/ListEmployee.vue","webpack://hopeui-vue/./src/views/tables/ListEmployee.vue?2a50"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between\">\r\n          <div class=\"header-title\">\r\n            <h4 class=\"card-title\">List Karyawan</h4>\r\n          </div>\r\n          <!-- <button @click=\"goToAddEmployee\" class=\"btn btn-primary\">Add New Employee</button> -->\r\n          <!-- <button class=\"btn btn-success\" @click=\"showAddModal\">Tambah Employee</button> -->\r\n          <div>\r\n            <button \r\n              class=\"btn btn-success\"\r\n              style=\"margin-right: 10px;\" \r\n              @click=\"showAddModal\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#form-confirmation\">\r\n              Tambah Karyawan\r\n            </button>\r\n            <button \r\n              class=\"btn btn-outline-success\" \r\n              style=\"margin-right: 10px;\" \r\n              @click=\"exportEmployeeData\">\r\n              Ekspor Data\r\n            </button>\r\n            <button\r\n              class=\"btn btn-info\"\r\n              style=\"margin-right: 10px;\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#mass-upload-modal\">\r\n              Mass Upload\r\n            </button>\r\n            <button \r\n              class=\"btn btn-outline-info\" \r\n              @click=\"downloadTemplateEmployeeData\">\r\n              Download Template\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-6\">\r\n              <label for=\"filter\" class=\"form-label\">Filter nama cabang</label>\r\n              <v-select \r\n                :options=\"branchNames\" \r\n                v-model=\"selectedBranches\" \r\n                multiple \r\n                @update:modelValue=\"onBranchSelect\" \r\n                class=\"filter-style\"\r\n              ></v-select>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <!-- <b-col md=\"4\"> -->\r\n                <label for=\"validationCustomUsername01\" class=\"form-label\">Filter nama karyawan</label>\r\n                <div class=\"input-group has-validation\">\r\n                  <input type=\"text\" v-model=\"filterFullname\" class=\"form-control\" style=\"height: 35px\" id=\"validationCustomUsername01\" aria-describedby=\"inputGroupPrepend\"/>\r\n                  <!-- <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"height: 35px\"\r\n                    @click=\"fetchEmployeeData\"\r\n                    title=\"Search\">\r\n                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M17 17.124L12.0962 12.2202M12.0962 12.2202C13.2725 11.0439 14 9.41895 14 7.62402C14 4.03417 11.0899 1.12402 7.5 1.12402C3.91015 1.12402 1 4.03417 1 7.62402C1 11.2139 3.91015 14.124 7.5 14.124C9.29493 14.124 10.9199 13.3965 12.0962 12.2202Z\" stroke=\"#FFFFFF\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button> -->\r\n                </div>\r\n              <!-- </b-col> -->\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-6\">\r\n              <!-- <b-col md=\"4\"> -->\r\n                <label for=\"validationCustomUsername01\" class=\"form-label\">Filter no telpon</label>\r\n                <div class=\"input-group has-validation\">\r\n                  <input type=\"text\" v-model=\"filterPhoneNumber\" class=\"form-control\" style=\"height: 35px\" id=\"validationCustomUsername01\" aria-describedby=\"inputGroupPrepend\"/>\r\n                  <!-- <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"height: 35px\"\r\n                    @click=\"fetchEmployeeData\"\r\n                    title=\"Search\">\r\n                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M17 17.124L12.0962 12.2202M12.0962 12.2202C13.2725 11.0439 14 9.41895 14 7.62402C14 4.03417 11.0899 1.12402 7.5 1.12402C3.91015 1.12402 1 4.03417 1 7.62402C1 11.2139 3.91015 14.124 7.5 14.124C9.29493 14.124 10.9199 13.3965 12.0962 12.2202Z\" stroke=\"#FFFFFF\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button> -->\r\n                </div>\r\n              <!-- </b-col> -->\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <!-- <b-col md=\"4\"> -->\r\n                <label for=\"validationCustomUsername01\" class=\"form-label\">Filter email</label>\r\n                <div class=\"input-group has-validation\">\r\n                  <input type=\"text\" v-model=\"filterEmail\" class=\"form-control\" style=\"height: 35px\" id=\"validationCustomUsername01\" aria-describedby=\"inputGroupPrepend\"/>\r\n                  <!-- <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"height: 35px\"\r\n                    @click=\"fetchEmployeeData\"\r\n                    title=\"Search\">\r\n                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M17 17.124L12.0962 12.2202M12.0962 12.2202C13.2725 11.0439 14 9.41895 14 7.62402C14 4.03417 11.0899 1.12402 7.5 1.12402C3.91015 1.12402 1 4.03417 1 7.62402C1 11.2139 3.91015 14.124 7.5 14.124C9.29493 14.124 10.9199 13.3965 12.0962 12.2202Z\" stroke=\"#FFFFFF\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button> -->\r\n                </div>\r\n              <!-- </b-col> -->\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-sm-6\">\r\n              <!-- <b-col md=\"4\"> -->\r\n                <label for=\"validationCustomUsername01\" class=\"form-label\">Filter alamat</label>\r\n                <div class=\"input-group has-validation\">\r\n                  <input type=\"text\" v-model=\"filterAddress\" class=\"form-control\" style=\"height: 35px\" id=\"validationCustomUsername01\" aria-describedby=\"inputGroupPrepend\"/>\r\n                  <!-- <button\r\n                    class=\"btn btn-primary\"\r\n                    style=\"height: 35px\"\r\n                    @click=\"fetchEmployeeData\"\r\n                    title=\"Search\">\r\n                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M17 17.124L12.0962 12.2202M12.0962 12.2202C13.2725 11.0439 14 9.41895 14 7.62402C14 4.03417 11.0899 1.12402 7.5 1.12402C3.91015 1.12402 1 4.03417 1 7.62402C1 11.2139 3.91015 14.124 7.5 14.124C9.29493 14.124 10.9199 13.3965 12.0962 12.2202Z\" stroke=\"#FFFFFF\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button> -->\r\n                </div>\r\n              <!-- </b-col> -->\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <label for=\"filter\" class=\"form-label\">Filter status</label>\r\n              <v-select \r\n                :options=\"employeeStatus\" \r\n                v-model=\"selectedStatus\" \r\n                multiple  \r\n                @update:modelValue=\"onStatusSelect\" \r\n                class=\"filter-style\"\r\n              ></v-select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-sm-6\">\r\n              <label for=\"filter\" class=\"form-label\">Filter divisi</label>\r\n              <v-select \r\n                :options=\"employeeDivision\" \r\n                v-model=\"selectedDivision\" \r\n                multiple  \r\n                @update:modelValue=\"onDivisionSelect\" \r\n                class=\"filter-style\"\r\n              ></v-select>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n              <!-- Input Pencarian Global -->\r\n              <div class=\"search-container\">\r\n                <label for=\"global-search\" class=\"form-label\">Pencarian</label>\r\n                <div class=\"input-group has-validation\">\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"global-search\"\r\n                    v-model=\"globalSearch\" \r\n                    class=\"form-control filter-style\" \r\n                  />\r\n                  <!-- <button\r\n                    class=\"btn btn-primary filter-style\"\r\n                    @click=\"fetchEmployeeData\"\r\n                    title=\"Search\">\r\n                    <svg width=\"18\" height=\"19\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M17 17.124L12.0962 12.2202M12.0962 12.2202C13.2725 11.0439 14 9.41895 14 7.62402C14 4.03417 11.0899 1.12402 7.5 1.12402C3.91015 1.12402 1 4.03417 1 7.62402C1 11.2139 3.91015 14.124 7.5 14.124C9.29493 14.124 10.9199 13.3965 12.0962 12.2202Z\" stroke=\"#FFFFFF\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                    </svg>\r\n                  </button> -->\r\n                </div>\r\n              </div>\r\n            </div>  \r\n          </div>\r\n\r\n          <div class=\"row mb-4\">\r\n            <div class=\"col-sm-4\">\r\n              <!-- <label for=\"validationCustomUsername01\" class=\"form-label text-white\"></label> -->\r\n              <div class=\"input-group has-validation\">\r\n                <button\r\n                  class=\"btn btn-primary width-button-style filter-style\" \r\n                  @click=\"fetchEmployeeData\"\r\n                  title=\"Search\">\r\n                  Filter\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <!-- Dropdown Show Entries -->\r\n            <div class=\"col-sm-6 pagination-show-entries\">\r\n              <label for=\"entries\" class=\"form-label col-sm-3\">Show entries</label>\r\n              <select\r\n                id=\"entries\"\r\n                class=\"form-select show-entries\"\r\n                v-model=\"pageSize\"\r\n                @change=\"fetchEmployeeData\"\r\n              >\r\n                <option value=\"10\">10</option>\r\n                <option value=\"25\">25</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"table-responsive border-bottom\">\r\n            <data-table\r\n              :data=\"employeeData\"\r\n              :columns=\"columns\"\r\n              :idrow=\"employee_id\"\r\n              @edit=\"showEditModal\"\r\n              @delete=\"showDeleteModal\"\r\n              @sort=\"onSort\"\r\n            />\r\n\r\n            <div class=\"pagination-container\">\r\n              <p class=\"text-muted\">\r\n                Showing {{ (currentPage - 1) * pageSize + 1 }} to\r\n                {{ Math.min(currentPage * pageSize, totalData) }} of {{ totalData }} entries\r\n              </p>\r\n              <nav aria-label=\"Page navigation example\">\r\n                <ul class=\"pagination justify-content-end\">\r\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\r\n                    <button class=\"page-link\" @click=\"changePage(currentPage - 1)\">Previous</button>\r\n                  </li>\r\n                  <li\r\n                    class=\"page-item\"\r\n                    v-for=\"page in totalPages\"\r\n                    :key=\"page\"\r\n                    :class=\"{ active: currentPage === page }\"\r\n                  >\r\n                    <button class=\"page-link\" @click=\"changePage(page)\">{{ page }}</button>\r\n                  </li>\r\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\r\n                    <button class=\"page-link\" @click=\"changePage(currentPage + 1)\">Next</button>\r\n                  </li>\r\n                </ul>\r\n              </nav>\r\n            </div>\r\n            \r\n            <div class=\"modal fade\" id=\"form-confirmation\" data-bs-backdrop=\"static\" data-bs-keyboard=\"true\" tabindex=\"-1\" aria-labelledby=\"staticBackdropPermissionLabel\" aria-hidden=\"true\" @hide=\"resetForm\">\r\n              <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"staticBackdropPermissionLabel\">{{ isEditMode ? 'Perbarui Karyawan' : 'Tambah Karyawan' }}</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"submitEmployee\">\r\n                      <p>Form yang bertanda <span class=\"text-primary\">*</span> wajib diisi</p> \r\n                      <div class=\"mb-3\"> \r\n                        <label for=\"input-205\" class=\"form-label\">Dari Cabang<span class=\"text-primary\">*</span></label>\r\n                        <select id=\"branch_id\" v-model=\"editForm.branch_id\" class=\"form-select\" required>\r\n                          <option value=\"\" disabled>Silahkan pilih cabang</option>\r\n                          <option v-for=\"branch in branches\" :key=\"branch.branch_id\" :value=\"branch.branch_id\">\r\n                            {{ branch.branch_name }}\r\n                          </option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"fullname\" class=\"form-label\">Nama Karyawan<span class=\"text-primary\">*</span></label>\r\n                        <input v-model=\"editForm.fullname\" maxlength=\"100\" type=\"text\" class=\"form-control\" id=\"fullname\" required />\r\n                      </div>\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"phone_number\" class=\"form-label\">No Telpon</label>\r\n                        <input v-model=\"editForm.phone_number\" maxlength=\"15\" id=\"phone_number\" type=\"text\" class=\"form-control\" oninput=\"this.value = this.value.replace(/[^0-9]/g, '')\"/>\r\n                      </div>\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"email\" class=\"form-label\">E-mail</label>\r\n                        <input v-model=\"editForm.email\" maxlength=\"150\" id=\"email\" type=\"email\" class=\"form-control\" @input=\"syncUsername\" />\r\n                      </div>\r\n                      <div class=\"mb-3\"> \r\n                        <label for=\"address\" class=\"form-label\">Alamat</label>\r\n                        <b-form-textarea v-model=\"editForm.address\" maxlength=\"500\" id=\"address\" type=\"text\" rows=\"4\" max-rows=\"4\"></b-form-textarea>\r\n                      </div> \r\n                      <div class=\"mb-3\"> \r\n                        <label for=\"input-205\" class=\"form-label\">Divisi<span class=\"text-primary\">*</span></label>\r\n                        <b-form-select v-model=\"editForm.division\" :options=\"optionsDivision\" id=\"division\" required></b-form-select>\r\n                      </div>\r\n                      <!-- <div class=\"mb-3\"> \r\n                        <label for=\"input-205\" class=\"form-label\">Role Karyawan<span class=\"text-primary\">*</span></label>\r\n                        <b-form-select v-model=\"editForm.role\" :options=\"optionsRole\" id=\"role\" required></b-form-select>\r\n                      </div> -->\r\n                      <!-- <div class=\"mb-3\"> \r\n                        <label for=\"input-205\" class=\"form-label\">Status<span class=\"text-primary\">*</span></label>\r\n                        <b-form-select v-model=\"editForm.status\" :options=\"optionsStatus\" id=\"role\" required></b-form-select>\r\n                      </div> -->\r\n                      <div v-if=\"!isEditMode\">\r\n                        <div class=\"mb-3\">\r\n                          <!-- <input type=\"checkbox\" v-model=\"showCheckbox\" />\r\n                          <label>Add Username and Password</label> -->\r\n                          <label class=\"form-check-label\">\r\n                            <input type=\"checkbox\" class=\"form-check-input me-2\" v-model=\"showCheckbox\"/>\r\n                            Ingin menambahkan akun?\r\n                          </label>\r\n                        </div>\r\n                        <div v-if=\"showCheckbox\">\r\n                          <div class=\"mb-1\">\r\n                            <label for=\"username\" class=\"form-label\">Username<span class=\"text-primary\">*</span></label>\r\n                            <input v-model=\"editForm.username\" maxlength=\"150\" type=\"text\" class=\"form-control\" id=\"username\" required />\r\n                          </div>\r\n                          <div class=\"mb-3\">\r\n                            <label for=\"password\" class=\"form-label\">Password<span class=\"text-primary\">*</span></label>\r\n                            <input v-model=\"editForm.password\" maxlength=\"15\" type=\"password\" class=\"form-control\" id=\"password\" required />\r\n                          </div>\r\n                          <div class=\"mb-3\"> \r\n                            <label for=\"role\" class=\"form-label\">Role User<span class=\"text-primary\">*</span></label>\r\n                            <b-form-select v-model=\"editForm.role\" :options=\"optionsRole\" id=\"role\" required></b-form-select>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <!-- Tambahkan field lainnya sesuai dengan struktur data employee -->\r\n                      <button type=\"submit\" class=\"btn btn-primary\" :data-bs-dismiss=\"\r\n                        showCheckbox?\r\n                        editForm.branch_id&&editForm.fullname&&editForm.division&&editForm.username&&editForm.password&&editForm.role ? 'modal' : null :\r\n                        editForm.branch_id&&editForm.fullname&&editForm.division ? 'modal' : null\r\n                        \">{{ isEditMode ? 'Simpan Perubahan' : 'Tambahkan Karyawan' }}\r\n                      </button>\r\n                      <!-- <button type=\"button\" class=\"btn btn-primary me-2\" data-bs-dismiss=\"modal\">Save2</button>\r\n                      <button type=\"button\" class=\"btn btn-danger\" data-bs-dismiss=\"modal\">Cancel</button> -->\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modal untuk Form Edit -->\r\n            <!-- <b-modal v-model=\"isEditModalOpen\" title=\"Edit Employee\" @hide=\"resetForm\">\r\n              <form @submit.prevent=\"submitEmployee\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"fullname\" class=\"form-label\">Nama Lengkap</label>\r\n                  <input v-model=\"editForm.fullname\" type=\"text\" class=\"form-control\" id=\"fullname\" required />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"phone_number\" class=\"form-label\">No Telpon</label>\r\n                  <input v-model=\"editForm.phone_number\" type=\"text\" class=\"form-control\" id=\"phone_number\" required />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"email\" class=\"form-label\">Email</label>\r\n                  <input v-model=\"editForm.email\" type=\"email\" class=\"form-control\" id=\"email\" required />\r\n                </div>\r\n                \r\n                <button type=\"submit\" class=\"btn btn-primary\">Save Changes</button>\r\n              </form>\r\n            </b-modal> -->\r\n\r\n            <!-- Modal Konfirmasi Penghapusan -->\r\n            <div class=\"modal fade\" id=\"delete-confirmation\" tabindex=\"-1\" aria-labelledby=\"deleteConfirmationLabel\" aria-hidden=\"true\">\r\n              <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"deleteConfirmationLabel\">Konfirmasi Hapus</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    <p>Apa kamu yakin ingin menghapus data Karyawan <strong>{{ selectedEmployee?.fullname }}</strong>?</p>\r\n                  </div>\r\n                  <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                    <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" @click=\"confirmDelete\">Delete</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modal for Mass Upload -->\r\n            <div\r\n              class=\"modal fade\"\r\n              id=\"mass-upload-modal\"\r\n              tabindex=\"-1\"\r\n              aria-labelledby=\"massUploadModalLabel\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"massUploadModalLabel\">Mass Upload Karyawan</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                  </div>\r\n                  <div class=\"modal-body\">\r\n                    <form @submit.prevent=\"uploadFileEmployeeData\">\r\n                      <div class=\"mb-3\">\r\n                        <label for=\"upload-file\" class=\"form-label\">Pilih File</label>\r\n                        <input\r\n                          type=\"file\"\r\n                          id=\"upload-file\"\r\n                          ref=\"fileInput\"\r\n                          accept=\".xlsx, .csv\"\r\n                          required\r\n                          class=\"form-control\"\r\n                        />\r\n                      </div>\r\n                      <button type=\"submit\" class=\"btn btn-primary\">Upload</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Modal Berhasil  Hapus  -->\r\n            <MessageModal :message=\"alertMessage\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n  .filter-style {\r\n    /* max-width: 400px; */\r\n    height: 35px;\r\n    /* margin-bottom: 1rem; */\r\n  }\r\n\r\n  .width-button-style {\r\n    /* max-width: 400px; */\r\n    width: 85px;\r\n    font-size: 13px; /* Kecil */\r\n    /* margin-bottom: 1rem; */\r\n  }\r\n\r\n  .show-entries {\r\n    /* max-width: 400px; */\r\n    width: 95px;\r\n    /* margin-bottom: 1rem; */\r\n  }\r\n\r\n  .pagination-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n\r\n  .pagination-show-entries {\r\n    display: flex; \r\n    align-items: center;\r\n  }\r\n</style>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport axios from 'axios';\r\nimport DataTable from '@/components/DataTable.vue';\r\n// import Actions from '@/components/TableActions.vue';\r\n// import { useRouter } from 'vue-router';\r\n// import { Modal } from 'bootstrap'\r\n// const router = useRouter();\r\nimport MessageModal from '@/components/ModalAlert.vue'; \r\nimport { Modal as BootstrapModal } from 'bootstrap';\r\nimport vSelect from 'vue-select';\r\nimport 'vue-select/dist/vue-select.css';\r\n\r\nconst titleMessage = ref('');\r\nconst alertMessage = ref('');\r\nconst filterFullname = ref('');\r\nconst filterPhoneNumber = ref('');\r\nconst filterEmail = ref('');\r\nconst filterAddress = ref('');  \r\nconst globalSearch = ref('');\r\n\r\nconst currentPage = ref(1); // Halaman aktif\r\nconst totalPages = ref(0); // Total halaman\r\nconst pageSize = ref(10); // Banyaknya data per halaman\r\nconst totalData = ref(0); // Jumlah total data dari API\r\n\r\n// Definisikan kolom untuk DataTable, gunakan komponen Actions untuk kolom tindakan\r\n// Ambil token dari localStorage\r\nconst token = localStorage.getItem('access_token');\r\n\r\nconst columns = [\r\n  { title: 'ID', data: 'employee_id', sortable: true },\r\n  { title: 'Dari Cabang', data: 'branch_name', sortable: true },\r\n  { title: 'Nama Karyawan', data: 'fullname', sortable: true },\r\n  { title: 'No Telpon', data: 'phone_number', sortable: true },\r\n  { title: 'E-mail', data: 'email', sortable: true },\r\n  { title: 'Alamat', data: 'address', sortable: true },\r\n  { title: 'Divisi', data: 'division', sortable: true },\r\n  { title: 'Status', data: 'status', sortable: true },\r\n  { title: 'Aksi', data: 'actions', sortable: false },\r\n  // { title: 'Role', data: 'role', sortable: true },\r\n  // { title: 'Username', data: 'username', sortable: true },\r\n];\r\n\r\n// Reactive data untuk menyimpan data employee\r\nconst employeeData = ref([]);\r\nconst branchNames = ref([]);\r\nconst selectedBranches = ref([]);\r\nconst employeeStatus = ref([]);\r\nconst selectedStatus = ref([]);\r\nconst employeeDivision = ref([]);\r\nconst selectedDivision = ref([]);\r\n\r\n// const isEditModalOpen = ref(false)\r\nconst isEditMode = ref(false)\r\nconst showCheckbox = ref(false) \r\n\r\nconst syncUsername= () => { \r\n  editForm.value.username = editForm.value.email \r\n}\r\n\r\nconst editForm = ref({\r\n  employee_id: null,\r\n  branch_id: '',\r\n  fullname: '',\r\n  phone_number: '',\r\n  email: '',\r\n  address: '',\r\n  division: '',\r\n  // role: '',\r\n  status: 'Offline',\r\n  username: '',\r\n  password: '',\r\n  type_user: 'Employee'\r\n})\r\n\r\n// Fungsi untuk membuka modal edit dan mengisi form dengan data yang dipilih\r\n// const openEditModal = (rowData) => {\r\n//   editForm.value = { ...rowData }\r\n//   isEditModalOpen.value = true\r\n// }\r\n\r\n// Fungsi untuk reset form saat modal ditutup\r\nconst resetForm = () => {\r\n  editForm.value = {\r\n    employee_id: null,\r\n    branch_id: '',\r\n    fullname: '',\r\n    phone_number: '',\r\n    email: '',\r\n    address: '',\r\n    division: '',\r\n    // role: '',\r\n    status: 'Offline',\r\n    username: '',\r\n    password: '',\r\n    type_user: 'Employee'\r\n  }\r\n}\r\n\r\nconst selectedEmployee = ref(null) // Menyimpan data employee yang dipilih untuk dihapus\r\n// let deleteModalInstance = null // Menyimpan instance modal\r\n// let editModalInstance = null // Menyimpan instance modal\r\n\r\n// Fungsi untuk menampilkan modal konfirmasi penghapusan\r\nconst showDeleteModal = (rowData) => {\r\n  selectedEmployee.value = rowData\r\n  // deleteModalInstance = new Modal(document.getElementById('delete-confirmation'))\r\n  // deleteModalInstance.show()\r\n}\r\n\r\n// Fungsi untuk membuka modal edit dan mengisi form dengan data yang dipilih\r\nconst showEditModal = (rowData) => {\r\n  selectedEmployee.value = rowData\r\n  editForm.value = { ...rowData }\r\n  isEditMode.value = true\r\n  // isEditModalOpen.value = true\r\n \r\n  // editModalInstance = new Modal(document.getElementById('form-confirmation'))\r\n  // deleteModalInstance.show()\r\n}\r\n\r\n// Fungsi untuk membuka modal tambah dengan form kosong\r\nconst showAddModal = () => {\r\n  resetForm() // Kosongkan form\r\n  isEditMode.value = false\r\n  showCheckbox.value  = false\r\n  // isEditModalOpen.value = true\r\n}\r\n\r\n// Fungsi untuk submit tambah/edit\r\nconst submitEmployee = async () => {\r\n  console.log('Edit data submitted:', editForm.value)\r\n  try {\r\n    if (isEditMode.value) {\r\n      // Update data jika dalam mode edit\r\n      const response = await axios.put(`http://localhost:3000/api/employee/${editForm.value.employee_id}`, editForm.value, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      console.log('Data berhasil diupdate:', response.data)\r\n\r\n      // Perbarui data employeeData di tabel setelah update\r\n      const index = employeeData.value.findIndex(employee => employee.employee_id === editForm.value.employee_id)\r\n      if (index !== -1) {\r\n        employeeData.value[index] = { ...editForm.value }\r\n      }\r\n      fetchEmployeeData()\r\n    }else {\r\n      // Tambahkan data baru jika dalam mode tambah\r\n      const response = await axios.post('http://localhost:3000/api/employee', editForm.value, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      console.log('Data berhasil ditambahkan:', response.data)\r\n\r\n      // Tambahkan data baru ke tabel\r\n      // employeeData.value.push(response.data)\r\n      fetchEmployeeData()\r\n    }\r\n    // Tutup modal setelah berhasil update\r\n    // isEditModalOpen.value = false\r\n  } catch (error) {\r\n    console.error('Gagal mengupdate data:', error)\r\n    handleAuthError();\r\n    // alert('Lakukan login terlebih dulu') \r\n  } \r\n  // isEditModalOpen.value = false // Tutup modal setelah submit\r\n}\r\n\r\n// Mengambil data employee saat komponen dimuat\r\nonMounted(async () => { \r\n  await fetchEmployeeStatus();\r\n  await fetchEmployeeDivision();\r\n  await fetchBranches();\r\n  await fetchEmployeeData();\r\n});\r\n\r\nconst currentSort = ref({ column: 'employee_id', order: 'DESC' });\r\n\r\nconst onSort = ({ column, order }) => {\r\n  currentSort.value = { column, order };\r\n  fetchEmployeeData(); // Panggil ulang API dengan parameter sorting\r\n};\r\n\r\nconst onBranchSelect = (selected) => {\r\n  selectedBranches.value = selected; // Perbarui nilai terpilih\r\n  // fetchEmployeeData(); // Panggil fungsi fetch dengan data terpilih\r\n};\r\n\r\nconst onStatusSelect = (selectedStatus) => {\r\n  selectedStatus.value = selectedStatus; // Perbarui nilai terpilih\r\n  // fetchEmployeeData(); // Panggil fungsi fetch dengan data terpilih\r\n};\r\n\r\nconst onDivisionSelect = (selectedDivision) => {\r\n  selectedDivision.value = selectedDivision; // Perbarui nilai terpilih\r\n  // fetchEmployeeData(); // Panggil fungsi fetch dengan data terpilih\r\n};\r\n\r\n\r\n// Fungsi untuk mengambil data employee dari backend\r\nconst fetchEmployeeData = async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/api/employee', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      params: { \r\n        branch_name: selectedBranches.value.join(','), \r\n        fullname: filterFullname.value,\r\n        phone_number: filterPhoneNumber.value,\r\n        email: filterEmail.value,\r\n        address: filterAddress.value,\r\n        status: selectedStatus.value.join(','),  \r\n        division: selectedDivision.value.join(','), \r\n        search: globalSearch.value, \r\n        order_by: currentSort.value.column,\r\n        order_direction: currentSort.value.order,\r\n        page: currentPage.value, // Kirim nomor halaman\r\n        pageSize: pageSize.value, // Kirim ukuran data per halaman\r\n        // order_by: 'employee_id', // Sorting berdasarkan ID\r\n        // order_direction: 'DESC', // Urutan descending\r\n      },\r\n    })\r\n    employeeData.value = response.data.rows.map((employee) => ({\r\n      ...employee,\r\n      branch_name: employee.branch?.branch_name || 'N/A' // Ambil nama cabang atau tampilkan \"N/A\" jika tidak ada\r\n    }))\r\n    totalData.value = response.data.sp.rowCount;\r\n    totalPages.value = Math.ceil(response.data.sp.rowCount / pageSize.value);\r\n  } catch (error) {\r\n    console.error('Error fetching employee data:', error)\r\n    handleAuthError();\r\n    // alert('Lakukan login terlebih dulu') \r\n  }\r\n};\r\n\r\n// Fungsi untuk mengganti halaman\r\nconst changePage = (page) => {\r\n  if (page >= 1 && page <= totalPages.value) {\r\n    currentPage.value = page;\r\n    fetchEmployeeData(); // Refresh data untuk halaman baru\r\n  }\r\n};\r\n\r\nconst fetchEmployeeStatus = async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/api/employee/getEmployeesStatus', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    // employeeStatus.value = response.data;\r\n    employeeStatus.value = [...new Set(response.data)];\r\n  } catch (error) {\r\n    console.error('Error fetching branch names:', error);\r\n    handleAuthError();\r\n  }\r\n};\r\n\r\nconst fetchEmployeeDivision = async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/api/employee/getEmployeesDivision', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }); \r\n    employeeDivision.value = [...new Set(response.data)];\r\n  } catch (error) {\r\n    console.error('Error fetching branch names:', error);\r\n    handleAuthError();\r\n  }\r\n};\r\n \r\n// Daftar cabang\r\nconst branches = ref([]);\r\n\r\n// Mengambil data cabang\r\nconst fetchBranches = async () => {\r\n  try {\r\n    const response = await axios.get('http://localhost:3000/api/branch', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      params: {  \r\n        // order_by: currentSort.value.column,\r\n        // order_direction: currentSort.value.order,\r\n        page: 1,\r\n        pageSize: 1000,\r\n      },\r\n    });\r\n    branches.value = response.data.rows;\r\n    branchNames.value = response.data.rows.map(item => item.branch_name);\r\n  } catch (error) {\r\n    console.error('Error fetching branches:', error);\r\n    handleAuthError();\r\n    // alert('Lakukan login terlebih dulu') \r\n  }\r\n};\r\n// Navigasi ke halaman tambah employee\r\n// const goToAddEmployee = () => {\r\n//   router.push({ name: 'employee-add' });\r\n// };\r\n\r\n// Fungsi untuk mengedit employee\r\n// const editEmployee = (employeeId) => {\r\n//   router.push({ name: 'employee-edit', params: { id: employeeId } });\r\n// };\r\n\r\n// const handleEdit = (rowData) => {\r\n//   console.log('Edit data:', rowData)\r\n//   // Tambahkan logika untuk membuka form edit atau mengedit data\r\n// }\r\n\r\nconst exportEmployeeData = async () => {\r\n  try {\r\n    const response = await axios.get(\"http://localhost:3000/api/employee/export\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      params: { \r\n        branch_name: selectedBranches.value.join(','), \r\n        fullname: filterFullname.value,\r\n        phone_number: filterPhoneNumber.value,\r\n        email: filterEmail.value,\r\n        address: filterAddress.value,\r\n        status: selectedStatus.value.join(','),  \r\n        division: selectedDivision.value.join(','), \r\n        search: globalSearch.value, \r\n        order_by: currentSort.value.column,\r\n        order_direction: currentSort.value.order,\r\n       },\r\n      responseType: \"blob\", // Blob untuk file biner\r\n    });\r\n\r\n    // Buat URL dari blob\r\n    const url = window.URL.createObjectURL(new Blob([response.data]));\r\n\r\n    // Buat link untuk download\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", \"data_karyawan.xlsx\"); // Nama file\r\n    document.body.appendChild(link);\r\n    link.click();\r\n\r\n    // Hapus elemen link setelah selesai\r\n    link.parentNode.removeChild(link);\r\n  } catch (error) {\r\n    console.error(\"Error exporting data:\", error);\r\n    // alert(\"Gagal mengekspor data. Silakan coba lagi.\");\r\n    titleMessage.value = `Gagal Ekspor`;\r\n    alertMessage.value = `Gagal mengekspor data. Silakan coba lagi.`;\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show();\r\n  }\r\n};\r\n\r\nconst uploadFileEmployeeData = async () => {\r\n  const fileInput = document.getElementById('upload-file');\r\n  const file = fileInput.files[0];\r\n\r\n  if (!file) {\r\n    titleMessage.value = `Pilih File`;\r\n    alertMessage.value = 'Silakan pilih file sebelum mengunggah.';\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show();\r\n    return;\r\n  }\r\n\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  try {\r\n    const response = await axios.post('http://localhost:3000/api/employee/mass-upload', formData, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n    titleMessage.value = `Berhasil`;\r\n    alertMessage.value = `Upload berhasil, ${response.data.successCount} data karyawan berhasil terupload`;\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show();\r\n \r\n    fetchEmployeeData();\r\n  } catch (error) {\r\n    console.error('Gagal mengunggah file:', error);\r\n    titleMessage.value = `Gagal Upload`;\r\n    alertMessage.value = 'Gagal mengunggah file. Pastikan format file benar.';\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show();\r\n  }\r\n};\r\n\r\nconst downloadTemplateEmployeeData = async () => { \r\n  try {\r\n    const response = await axios.get(\"http://localhost:3000/api/employee/template/\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      responseType: \"blob\", // Blob untuk file biner\r\n    });\r\n\r\n    // Buat URL dari blob\r\n    const url = window.URL.createObjectURL(new Blob([response.data]));\r\n\r\n    // Buat link untuk download\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", \"template_data_karyawan.xlsx\"); // Nama file\r\n    document.body.appendChild(link);\r\n    link.click();\r\n\r\n    // Hapus elemen link setelah selesai\r\n    link.parentNode.removeChild(link);\r\n  } catch (error) {\r\n    console.error(\"Error downloading template:\", error);\r\n    // alert(\"Gagal mendownload template. Silakan coba lagi.\");\r\n    titleMessage.value = `Gagal Download`;\r\n    alertMessage.value = `Gagal mendownload template. Silakan coba lagi.`;\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show();\r\n  }\r\n}\r\n\r\nconst confirmDelete = async () => {\r\n  try {\r\n    console.log('Id deleted:', selectedEmployee.value.employee_id)\r\n    await axios.delete(`http://localhost:3000/api/employee/${selectedEmployee.value.employee_id}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n    // alert('Daca Karyawan berhasil dihapus.') \r\n    titleMessage.value = `Berhasil Hapus`;\r\n    alertMessage.value = `Data Karyawan <strong>${selectedEmployee.value.fullname}</strong> berhasil dihapus.`;\r\n    const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n    modal.show(); \r\n    // deleteModalInstance.hide() // Sembunyikan modal setelah penghapusan\r\n\r\n    // Refresh data setelah penghapusan\r\n    fetchEmployeeData()\r\n  } catch (error) {\r\n    console.error('Failed to delete employee data:', error) \r\n    handleAuthError();\r\n    // alert('Lakukan login terlebih dulu') \r\n  }\r\n}\r\n\r\nconst handleAuthError = () => {\r\n  // router.push({ name: 'auth.login' });\r\n  titleMessage.value = `Koneksi Gagal`;\r\n  alertMessage.value = `Cek koneksi internet Anda.`;\r\n  const modal = new BootstrapModal(document.getElementById('message-alert'));\r\n  modal.show();\r\n};\r\n\r\nconst optionsDivision = [\r\n  { value: null, text: 'Silahkan pilih divisi karyawan' },\r\n  { value: 'Admin', text: 'Admin' },\r\n  { value: 'Director of Fumindo', text: 'Director of Fumindo' },\r\n  { value: 'Technician Manager', text: 'Technician Manager' },  \r\n  { value: 'Technician and Operational', text: 'Technician and Operational' },\r\n  { value: 'Service Technician', text: 'Service Technician' },\r\n]\r\n\r\nconst optionsRole = [\r\n  { value: null, text: 'Silahkan pilih role user' },\r\n  { value: 'Admin', text: 'Admin' },\r\n  { value: 'Manajer Teknis', text: 'Manajer Teknis' },\r\n  { value: 'Petugas Lapangan', text: 'Petugas Lapangan' }, \r\n]\r\n\r\n// const optionsStatus = [\r\n//   { value: null, text: 'Silahkan pilih status' },\r\n//   { value: 'Online', text: 'Online' },\r\n//   { value: 'Offline', text: 'Offline' },\r\n//   { value: 'Survey', text: 'Survey' }, \r\n//   { value: 'On Duty', text: 'On Duty' }, \r\n// ]\r\n\r\n// const handleDelete = async (rowData) => {\r\n//   const confirmDelete = confirm(`Are you sure you want to delete employee ${rowData.fullname}?`)\r\n//   if (!confirmDelete) return\r\n//   console.log('Delete data:', rowData.employee_id)\r\n//   try {\r\n//     await axios.delete(`http://localhost:3000/api/employee/${rowData.employee_id}`)\r\n//     alert('Employee data deleted successfully.')\r\n\r\n//     // Refresh data setelah penghapusan\r\n//     fetchEmployeeData()\r\n//   } catch (error) {\r\n//     console.error('Failed to delete employee data:', error)\r\n//     alert('Failed to delete employee data.')\r\n//   }\r\n// }\r\n\r\n// Fungsi untuk menghapus employee\r\n// const deleteEmployee = async (rowData) => {\r\n//   console.log('Edit data:', rowData.employee_id)\r\n//   if (confirm('Are you sure you want to delete this employee?')) {\r\n//     try {\r\n//       await axios.delete(`http://localhost:3000/api/employee/${rowData.employee_id}`);\r\n//       await fetchEmployeeData(); // Refresh data setelah penghapusan\r\n//     } catch (error) {\r\n//       console.error('Error deleting employee:', error);\r\n//     }\r\n//   }\r\n// };\r\n</script>\r\n","import script from \"./ListEmployee.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListEmployee.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ListEmployee.vue?vue&type=style&index=0&id=ee177bd4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ee177bd4\"]])\n\nexport default __exports__"],"names":["titleMessage","ref","alertMessage","filterFullname","filterPhoneNumber","filterEmail","filterAddress","globalSearch","currentPage","totalPages","pageSize","totalData","token","localStorage","getItem","columns","title","data","sortable","employeeData","branchNames","selectedBranches","employeeStatus","selectedStatus","employeeDivision","selectedDivision","isEditMode","showCheckbox","syncUsername","editForm","value","username","email","employee_id","branch_id","fullname","phone_number","address","division","status","password","type_user","resetForm","selectedEmployee","showDeleteModal","rowData","showEditModal","showAddModal","submitEmployee","async","console","log","response","axios","put","headers","Authorization","index","findIndex","employee","fetchEmployeeData","post","error","handleAuthError","onMounted","fetchEmployeeStatus","fetchEmployeeDivision","fetchBranches","currentSort","column","order","onSort","onBranchSelect","selected","onStatusSelect","onDivisionSelect","get","params","branch_name","join","search","order_by","order_direction","page","rows","map","branch","sp","rowCount","Math","ceil","changePage","Set","branches","item","exportEmployeeData","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","modal","BootstrapModal","getElementById","show","uploadFileEmployeeData","fileInput","file","files","formData","FormData","append","successCount","downloadTemplateEmployeeData","confirmDelete","delete","optionsDivision","text","optionsRole","__exports__"],"sourceRoot":""}